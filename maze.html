<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Maze Game - Ultra Hard</title>
<style>
body { font-family: Arial, sans-serif; text-align:center; margin:20px; }
#maze { display: inline-block; margin-top:20px; }
.cell { width: 18px; height: 18px; display: inline-block; border:1px solid #333; vertical-align: top; }
.wall { background: #333; }
.path { background: #fff; }
.player { background: red; }
.end { background: green; }
@media (max-width: 600px) { .cell { width: 12px; height: 12px; } }
</style>
</head>
<body>
<h2>Maze Game - Ultra Hard</h2>
<p>Use arrow keys or swipe to move the red square to the green square. Be careful!</p>
<div id="maze"></div>
<p id="msg"></p>

<script>
// 25x25 ultra-hard maze layout (1=wall, 0=path, 2=end)
const mazeLayout = [
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,0,1,0,0,0,1,0,0,0,1,0,1,0,0,0,1,0,0,0,0,0,1,0,1],
[1,0,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,1,1,1,0,1,1,0,1],
[1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,0,1,0,1],
[1,1,1,0,1,1,1,1,1,0,1,1,1,0,1,1,0,1,0,1,1,0,1,1,1],
[1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
[1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1],
[1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1],
[1,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1],
[1,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,0,0,0,0,1],
[1,0,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1],
[1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1],
[1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1],
[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1],
[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
[1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,0,1,1,1,1,0,1,1,1,1],
[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1],
[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
];

let playerPos = {x:1,y:1};
const mazeDiv = document.getElementById("maze");
const msg = document.getElementById("msg");

function drawMaze(){
  mazeDiv.innerHTML='';
  for(let y=0;y<mazeLayout.length;y++){
    for(let x=0;x<mazeLayout[0].length;x++){
      const cell=document.createElement('div');
      cell.classList.add('cell');
      if(mazeLayout[y][x]===1) cell.classList.add('wall');
      else if(mazeLayout[y][x]===2) cell.classList.add('end');
      if(x===playerPos.x && y===playerPos.y) cell.classList.add('player');
      mazeDiv.appendChild(cell);
    }
    mazeDiv.appendChild(document.createElement('br'));
  }
}

function move(dx,dy){
  const newX=playerPos.x+dx;
  const newY=playerPos.y+dy;
  if(mazeLayout[newY][newX]!==1){
    playerPos.x=newX;
    playerPos.y=newY;
    drawMaze();
    if(mazeLayout[newY][newX]===2){
      msg.innerHTML='ðŸŽ‰ You reached the end! <a href="nextgame.html">Next clue</a>';
    }
  }
}

// arrow keys
document.addEventListener('keydown',e=>{
  switch(e.key){
    case 'ArrowUp': move(0,-1); break;
    case 'ArrowDown': move(0,1); break;
    case 'ArrowLeft': move(-1,0); break;
    case 'ArrowRight': move(1,0); break;
  }
});

// swipe
let touchStartX=0,touchStartY=0;
document.addEventListener('touchstart',e=>{
  touchStartX=e.touches[0].clientX;
  touchStartY=e.touches[0].clientY;
});
document.addEventListener('touchend',e=>{
  const dx=e.changedTouches[0].clientX-touchStartX;
  const dy=e.changedTouches[0].clientY-touchStartY;
  if(Math.abs(dx)>Math.abs(dy)){
    if(dx>30) move(1,0);
    else if(dx<-30) move(-1,0);
  }else{
    if(dy>30) move(0,1);
    else if(dy<-30) move(0,-1);
  }
});

drawMaze();
</script>
</body>
</html>
